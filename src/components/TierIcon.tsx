import { useState } from 'react';

export type TierType = 'shrimp' | 'fish' | 'dolphin' | 'shark' | 'whale';

interface TierIconProps {
  tier: TierType;
}

const TIER_INFO: Record<TierType, { label: string; description: string }> = {
  shrimp: { label: 'Shrimp', description: '< $100 Filled Order' },
  fish: { label: 'Fish', description: '$100 - $1K Filled Order' },
  dolphin: { label: 'Dolphin', description: '$1K - $10K Filled Order' },
  shark: { label: 'Shark', description: '$10K - $100K Filled Order' },
  whale: { label: 'Whale', description: 'Over $100K Filled Order' },
};

/* ─── Whale icon (#27C9D8 teal) ─── */
function WhaleIcon() {
  return (
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <svg x="0.67" y="3.33" width="14.66" height="9.34" viewBox="0 0 14.6599 9.33333">
        <path d="M3.65967 7C3.65967 8.28667 4.70667 9.33333 5.993 9.33333C6.17733 9.33333 6.32633 9.184 6.32633 9V7H7.993C10.8463 7 13.183 4.74833 13.32 1.92867C13.32 1.92867 14.5983 1.77 14.6597 0.333333C14.6673 0.149333 14.5107 0 14.3263 0H13.2953C12.7863 0 12.3263 0.294 12.3263 0.294C12.3263 0.294 11.8757 0 11.3573 0H10.3263C10.142 0 9.993 0.149333 9.993 0.333333C9.993 1.07533 10.4917 1.72967 11.2777 1.91467C11.2777 1.91467 10.873 3.40367 9.28467 3.03933C8.542 2.869 7.88467 2.42 7.346 1.88133C6.34767 0.883 5.00767 0.336333 3.42933 0.333C1.61633 0.329667 0 1.86167 0 3.44533C0 7.22767 3.65967 7 3.65967 7ZM1.99633 3.33333H1.99967C2.184 3.33333 2.333 3.48267 2.333 3.66667C2.333 3.85067 2.184 4 1.99967 4C1.81567 4 1.66467 3.85067 1.66467 3.66667C1.66467 3.48267 1.81233 3.33333 1.99633 3.33333Z" fill="#27C9D8" />
      </svg>
    </svg>
  );
}

/* ─── Shrimp icon (#FF8F3C orange) ─── */
function ShrimpIcon() {
  return (
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <svg x="2" y="2.64" width="12" height="10.64" viewBox="0 0 12 10.6379">
        <path d="M7.21661 4.09027H8.22272C8.22272 4.09027 9.33244 3.53105 9.57756 2.45432C9.71389 1.85501 9.41697 0.951966 9.41697 0.951966C8.92482 0.743381 7.23024 0.818363 7.23024 0.818363C7.23024 0.818363 7.87399 1.43484 7.84673 2.45432C7.81891 3.49696 7.21661 4.09027 7.21661 4.09027Z" fill="#FF8F3C" />
        <path d="M11.3747 3.35681L11.6447 2.81968C11.3066 2.12167 10.7449 1.55181 10.0551 1.20008C10.0551 1.20008 10.3452 1.85855 10.0455 2.80468C9.77177 3.66983 9.0953 4.09027 9.0953 4.09027H10.0905C10.6167 4.09027 11.1075 3.80943 11.3747 3.35681Z" fill="#FF8F3C" />
        <path d="M10.972 4.43274C10.4545 4.69667 9.94323 4.63559 9.94323 4.63559C10.0087 4.74738 10.055 4.87281 10.0741 5.00641C10.0741 5.00641 10.7789 5.51083 11.3856 5.27907L11.9827 4.99823C11.9936 4.88371 12.0441 4.00112 11.8982 3.5286C11.8982 3.5286 11.637 4.09355 10.972 4.43274Z" fill="#FF8F3C" />
        <path d="M11.0202 5.88165C10.7672 5.87347 10.5164 5.82712 10.2794 5.71561L9.79846 6.91803C9.66731 7.18224 9.68258 7.47453 9.82845 7.70383L10.1867 8.11119C11.0399 7.52224 11.6367 6.65001 11.8767 5.65235C11.8767 5.65235 11.5238 5.89801 11.0202 5.88165Z" fill="#FF8F3C" />
        <path d="M9.33798 6.50875C8.9508 6.17884 8.46819 5.99888 7.95559 5.99888H6.54595C6.39599 5.99888 6.26293 6.12185 6.27329 6.27154C6.38453 7.86905 7.86834 7.91022 7.86834 7.91022C7.21669 8.69548 7.26168 9.83656 7.98831 10.555C8.14727 10.7123 8.32096 10.6068 8.37549 10.555L9.16075 9.76975C9.50975 9.42075 9.72788 8.97359 9.79332 8.49098C9.79332 8.49071 9.79332 8.49044 9.79332 8.49017C9.79332 8.49017 8.73922 7.76816 9.33798 6.50875Z" fill="#FF8F3C" />
        <path d="M1.55625 2.45432C1.55625 2.45432 3.40352 3.94904 4.66456 4.04937C4.3281 4.57124 4.36464 5.18091 4.36464 5.18091C4.38809 5.59862 4.92795 5.52937 4.90996 5.18091C4.90996 5.18091 4.88542 4.51071 5.30259 4.09027H5.45528C5.14472 4.61869 5.18262 5.18091 5.18262 5.18091C5.20961 5.56918 5.7323 5.49583 5.72793 5.18091C5.72793 5.18091 5.65023 4.6146 6.12056 4.09027H6.50774C6.50774 4.09027 7.30009 3.43371 7.30009 2.45432C7.30009 1.61317 6.56227 0.818365 6.56227 0.818365C6.56227 0.818365 5.62432 0.651225 4.34283 1.20554C3.3059 1.65407 1.60806 1.909 1.60806 1.909H1.22906C0.323288 1.909 0.310201 0.545706 1.22906 0.545706H5.18262C5.52917 0.545706 5.56379 0.000388238 5.18262 0.000388238H1.22906C-0.211123 -0.0342395 -0.596936 2.25855 1.22906 2.45432H1.55625ZM4.09471 2.18166H4.09743C4.24794 2.18166 4.37009 2.30381 4.37009 2.45432C4.37009 2.60483 4.24794 2.72698 4.09743 2.72698C3.94693 2.72698 3.82341 2.60483 3.82341 2.45432C3.82341 2.30381 3.9442 2.18166 4.09471 2.18166Z" fill="#FF8F3C" />
      </svg>
    </svg>
  );
}

/* ─── Shark icon (#0A71CD blue) — already 16×16 ─── */
function SharkIcon() {
  return (
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M13.7247 5.9195C12.8437 5.15672 11.8336 4.55736 10.742 4.14962C10.7701 3.50313 10.9747 2.87667 11.3335 2.33816L11.8923 1.5L10.6051 1.81309C10.1124 1.93295 9.64869 2.1505 9.24158 2.45285C8.83447 2.75519 8.49219 3.13619 8.23503 3.57325L7.6 3.51334C6.52669 3.41209 5.44403 3.48881 4.39572 3.74041L1.71519 4.38375C1.62903 4.40443 1.54952 4.44658 1.48405 4.50628C1.41858 4.56598 1.3693 4.64128 1.34078 4.72517C1.31227 4.80905 1.30545 4.89879 1.32098 4.98602C1.3365 5.07325 1.37386 5.15513 1.42956 5.22403L2.77597 6.88934C2.99241 7.15704 3.27021 7.3686 3.58581 7.50609C3.90141 7.64357 4.24551 7.70293 4.58894 7.67912L6.46841 7.54887C6.51414 7.5457 6.56004 7.55171 6.60341 7.56656C6.64678 7.5814 6.68674 7.60479 6.72092 7.63533C6.75511 7.66587 6.78283 7.70295 6.80245 7.74438C6.82208 7.78581 6.83321 7.83074 6.83518 7.87654C6.83716 7.92234 6.82994 7.96807 6.81395 8.01103C6.79797 8.054 6.77354 8.09333 6.74211 8.1267C6.71068 8.16007 6.67288 8.1868 6.63095 8.20533C6.58902 8.22385 6.5438 8.23379 6.49797 8.23456L4.80616 8.26334L4.99847 8.46647C5.41187 8.8581 5.95639 9.0816 6.52572 9.09334L11.0295 9.18791L11.8254 9.10694C12.1288 9.11319 12.4207 9.31778 12.6518 9.5145C12.916 9.73948 13.0808 10.0597 13.1102 10.4055C13.1396 10.7513 13.0313 11.0948 12.8088 11.3611L11.9979 12.2198L11.776 11.9979C11.2396 11.4615 10.5437 11.1135 9.79269 11.0063L9.29269 10.9348L9.42706 11.2411C9.73385 11.9399 10.2713 12.5122 10.9495 12.8622L10.6363 13.0299C10.2187 13.2537 9.85362 13.5639 9.56541 13.94L9.12353 14.5165L9.53759 14.517C10.0345 14.5177 10.5259 14.4127 10.9792 14.209C11.4325 14.0053 11.8373 13.7076 12.1667 13.3356L12.648 13.1237C14.1492 12.4625 15.1641 11.0095 15.2246 9.37022C15.2257 9.34009 15.2265 9.30989 15.227 9.27959C15.2372 8.64378 15.1081 8.01344 14.8485 7.43292C14.589 6.85241 14.2054 6.33582 13.7247 5.9195Z" fill="#0A71CD" />
      <path d="M9.48709 7.09325C9.48359 7.09325 9.48006 7.09325 9.47653 7.09303C9.41028 7.09028 9.34785 7.06132 9.30295 7.01253C9.25805 6.96375 9.23437 6.89912 9.23713 6.83287L9.24919 6.5425C9.25768 6.3311 9.19482 6.12298 9.07072 5.95162C9.03303 5.89792 9.01797 5.83156 9.02877 5.76685C9.03958 5.70215 9.07538 5.64428 9.12847 5.60573C9.18155 5.56718 9.24766 5.55105 9.31253 5.5608C9.37741 5.57056 9.43585 5.60542 9.47525 5.65787C9.66543 5.92048 9.76176 6.2394 9.74875 6.56337L9.73669 6.85372C9.73399 6.91812 9.70652 6.97899 9.66001 7.02363C9.6135 7.06826 9.55155 7.0932 9.48709 7.09325Z" fill="#0A0A0B" />
      <path d="M10.4871 7.09325C10.4836 7.09325 10.4801 7.09325 10.4765 7.09303C10.4103 7.09028 10.3478 7.06132 10.3029 7.01253C10.2581 6.96375 10.2344 6.89912 10.2371 6.83287L10.2492 6.5425C10.2551 6.39508 10.2264 6.24832 10.1654 6.114C10.1379 6.05367 10.1355 5.98488 10.1587 5.92277C10.1819 5.86067 10.2289 5.81033 10.2892 5.78283C10.3495 5.75533 10.4183 5.75292 10.4804 5.77614C10.5425 5.79936 10.5929 5.84629 10.6204 5.90662C10.7139 6.11246 10.7579 6.33735 10.7487 6.56325L10.7367 6.85362C10.734 6.91804 10.7066 6.97894 10.66 7.02359C10.6135 7.06824 10.5516 7.0932 10.4871 7.09325Z" fill="#0A0A0B" />
      <path d="M14.1219 12.0835L14.2199 12.2585C14.3936 12.5686 14.5501 12.8881 14.6887 13.2154L14.7627 13.3904L14.8114 13.2287C15.1009 12.2689 15.2061 11.263 15.1214 10.2641L15.0803 9.85684L13.9937 11.8608L14.1219 12.0835Z" fill="#0A71CD" />
      <path d="M4.58887 5.57453C4.7587 5.57453 4.89638 5.43686 4.89638 5.26703C4.89638 5.0972 4.7587 4.95953 4.58887 4.95953C4.41905 4.95953 4.28137 5.0972 4.28137 5.26703C4.28137 5.43686 4.41905 5.57453 4.58887 5.57453Z" fill="#0A0A0B" />
      <path d="M13.8375 10.8997C13.7055 11.1697 13.4936 11.3926 13.2306 11.5381L11.9978 12.2197L12.715 11.3609C12.8741 11.1706 12.9761 10.9391 13.0094 10.6933C13.0426 10.4474 13.0057 10.1972 12.9029 9.97138C12.8001 9.74559 12.6357 9.55344 12.4284 9.41707C12.2212 9.2807 11.9796 9.20567 11.7316 9.20063L10.4906 9.175L10.3853 8.32531L12.3469 8.39125C12.5991 8.3997 12.8448 8.47323 13.0603 8.6047C13.2757 8.73617 13.4534 8.92111 13.5763 9.14156L13.8009 9.545C13.9158 9.75112 13.9791 9.98197 13.9855 10.2179C13.9919 10.4537 13.9411 10.6877 13.8375 10.8997Z" fill="#0A71CD" />
      <path d="M9.15028 8.39338C9.46294 9.06797 10.0224 9.59699 10.7134 9.8715L11.5079 10.1871L11.486 10.1261C11.2468 9.45644 10.8721 8.84334 10.3853 8.32509L10.329 8.26516L9.15028 8.39338Z" fill="#0A71CD" />
      <path d="M8.48709 7.09325C8.48359 7.09325 8.48006 7.09325 8.47653 7.09303C8.44373 7.09167 8.41151 7.08386 8.38173 7.07004C8.35194 7.05623 8.32517 7.03668 8.30294 7.01252C8.28071 6.98836 8.26345 6.96006 8.25216 6.92923C8.24087 6.8984 8.23576 6.86565 8.23713 6.83284L8.24919 6.54253C8.25447 6.41221 8.23261 6.28222 8.185 6.16079C8.13739 6.03937 8.06507 5.92916 7.97262 5.83716C7.94933 5.81402 7.93082 5.78652 7.91815 5.75623C7.90548 5.72594 7.89891 5.69345 7.8988 5.66062C7.89868 5.62778 7.90504 5.59525 7.9175 5.56487C7.92996 5.5345 7.94828 5.50687 7.97142 5.48358C7.99456 5.46028 8.02206 5.44177 8.05235 5.42911C8.08264 5.41644 8.11513 5.40986 8.14796 5.40975C8.18079 5.40964 8.21333 5.41599 8.2437 5.42845C8.27408 5.44092 8.3017 5.45924 8.325 5.48238C8.46667 5.62335 8.57751 5.79223 8.65046 5.9783C8.72342 6.16438 8.75691 6.36358 8.74881 6.56328L8.73675 6.85362C8.73407 6.91805 8.70661 6.97896 8.66008 7.02361C8.61356 7.06827 8.55158 7.09322 8.48709 7.09325Z" fill="#0A0A0B" />
    </svg>
  );
}

/* ─── Fish icon (#818CF8 purple) ─── */
function FishIcon() {
  return (
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      <svg x="1" y="3.2" width="14" height="9.6" viewBox="0 0 14.0009 9.6079">
        <path d="M13.8053 4.7279C12.9103 3.5879 11.5953 2.7429 10.0803 2.3379C9.44532 1.2929 8.31032 0.522904 6.70532 0.042904C6.33532 -0.067096 5.94032 0.0379041 5.68032 0.317904C5.42032 0.592904 5.34032 0.987904 5.47032 1.3379C5.62032 1.7579 5.66032 2.1079 5.58532 2.4229C4.60032 2.7279 3.70532 3.2279 2.97032 3.8829L1.27032 2.3079C1.01032 2.0729 0.635318 2.0429 0.340318 2.2379C0.050318 2.4329 -0.0696821 2.7829 0.0403179 3.1029C0.525318 4.5779 0.525318 6.0079 0.0403179 7.4829C-0.0696821 7.8129 0.050318 8.1579 0.340318 8.3529C0.635318 8.5479 1.01032 8.5179 1.27532 8.2779L2.98532 6.6929C4.02532 7.6179 5.37032 8.2329 6.84032 8.4479L6.94032 8.8529C7.03032 9.1979 7.29032 9.4679 7.63032 9.5679C7.72532 9.5929 7.82032 9.6079 7.91532 9.6079C8.16032 9.6079 8.40032 9.5129 8.58532 9.3429L9.65532 8.3679C11.3603 8.0179 12.8303 7.1379 13.8053 5.8829L13.8103 5.8779C14.0653 5.5379 14.0653 5.0679 13.8053 4.7279ZM11.0103 5.3029C10.7353 5.3029 10.5053 5.0779 10.5053 4.8029C10.5053 4.5279 10.7303 4.3029 11.0053 4.3029H11.0103C11.2853 4.3029 11.5103 4.5279 11.5103 4.8029C11.5103 5.0779 11.2853 5.3029 11.0103 5.3029Z" fill="#818CF8" />
      </svg>
    </svg>
  );
}

/* ─── Dolphin icon (#60A5FA blue) — composed of 4 vector parts ─── */
function DolphinIcon() {
  return (
    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
      {/* Main body */}
      <svg x="0.52" y="2.33" width="14.96" height="11.34" viewBox="0 0 14.9569 11.3392">
        <path d="M12.6576 7.85716C12.6576 7.85716 11.7888 2.83157 7.9776 1.47637C7.7984 1.10997 7.7312 0.738765 7.768 0.359565C7.7968 0.0603651 7.4432 -0.117235 7.2256 0.0891652L6.1088 1.14517C6.0912 1.14517 6.0736 1.14517 6.056 1.14357C0.9728 1.08437 0.9008 5.22997 0.9008 5.22997C0.9008 5.22997 0 5.89716 0 6.51796C0 7.13876 1.3328 6.89877 3.128 6.65557C4.9232 6.41397 8.4992 5.46516 11.7824 8.34996C11.7824 8.34996 11.7904 10.0828 11.3808 11.094C11.1104 11.7628 13.0448 10.9628 13.1584 9.90996C13.1584 9.90996 14.1616 9.97397 14.8864 9.18837C15.376 8.65877 13.1744 9.11636 12.6576 7.85557V7.85716Z" fill="#60A5FA" />
      </svg>
      {/* Belly stripe */}
      <svg x="0.58" y="7.92" width="11.72" height="2.76" viewBox="0 0 11.7248 2.7552">
        <path d="M11.7248 2.7552C11.6352 1.4928 9.2048 0 5.7824 0C3.2912 0 1.792 0.4992 0 1.1184C0.272 1.5216 1.4928 1.4336 3.0704 1.2208C4.8656 0.9792 8.736 0.0912003 11.7248 2.7552Z" fill="#60A5FA" />
      </svg>
      {/* Fin */}
      <svg x="6.6" y="7.09" width="2.44" height="2.48" viewBox="0 0 2.43678 2.47604">
        <path d="M2.23477 0.664986C2.17397 0.229786 1.76917 -0.0646146 1.33557 0.0121854L0.386766 0.180186C-0.0468344 0.256986 -0.128435 0.554586 0.205965 0.840986L1.93077 2.32099C2.26517 2.60739 2.48757 2.48579 2.42677 2.04899L2.23317 0.663386L2.23477 0.664986Z" fill="#60A5FA" />
      </svg>
      {/* Eye */}
      <svg x="2.94" y="6.06" width="0.76" height="0.76" viewBox="0 0 0.7584 0.7584">
        <path d="M0.3792 0.7584C0.588626 0.7584 0.7584 0.588626 0.7584 0.3792C0.7584 0.169773 0.588626 0 0.3792 0C0.169773 0 0 0.169773 0 0.3792C0 0.588626 0.169773 0.7584 0.3792 0.7584Z" fill="#0A0A0B" />
      </svg>
    </svg>
  );
}

/* ─── Icon lookup ─── */
const ICON_COMPONENTS: Record<TierType, React.FC> = {
  whale: WhaleIcon,
  shrimp: ShrimpIcon,
  shark: SharkIcon,
  fish: FishIcon,
  dolphin: DolphinIcon,
};

/* ─── Main TierIcon component with hover tooltip ─── */
export default function TierIcon({ tier }: TierIconProps) {
  const [showTooltip, setShowTooltip] = useState(false);
  const Icon = ICON_COMPONENTS[tier];
  const info = TIER_INFO[tier];

  return (
    <div
      className="relative inline-flex"
      onMouseEnter={() => setShowTooltip(true)}
      onMouseLeave={() => setShowTooltip(false)}
    >
      <div className="flex size-4 cursor-pointer items-center justify-center">
        <Icon />
      </div>

      {/* Tooltip */}
      {showTooltip && (
        <div className="absolute bottom-full left-1/2 z-50 mb-2 -translate-x-1/2 animate-[fadeIn_0.15s_ease-out]">
          <div className="whitespace-nowrap rounded-lg border border-[#252527] bg-[#131314] px-3 py-2 shadow-lg">
            <div className="flex items-center gap-2">
              <div className="flex size-4 shrink-0 items-center justify-center">
                <Icon />
              </div>
              <div>
                <p className="text-xs font-medium text-[#f9f9fa]">{info.label}</p>
                <p className="text-[11px] text-[#7a7a83]">{info.description}</p>
              </div>
            </div>
          </div>
          {/* Tooltip arrow */}
          <div className="absolute left-1/2 top-full -translate-x-1/2">
            <div className="h-0 w-0 border-x-[5px] border-t-[5px] border-x-transparent border-t-[#252527]" />
          </div>
        </div>
      )}
    </div>
  );
}
